<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dev Console</title>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <h1>Dev Console</h1>
  <label for="speed">Speed: <span id="speed-value">2</span></label>
  <input type="range" id="speed" min="1" max="10" step="0.1" value="2">
  <br>
  <label for="gravity">Gravity: <span id="gravity-value">0.1</span></label>
  <input type="range" id="gravity" min="0.01" max="1" step="0.01" value="0.1">
  <br>
  <label for="friction">Friction: <span id="friction-value">0.98</span></label>
  <input type="range" id="friction" min="0.5" max="1" step="0.01" value="0.98">
  <br>
  <script>
    const socket = io('http://localhost:3001');

    const speedSlider = document.getElementById('speed');
    const gravitySlider = document.getElementById('gravity');
    const frictionSlider = document.getElementById('friction');

    const speedValue = document.getElementById('speed-value');
    const gravityValue = document.getElementById('gravity-value');
    const frictionValue = document.getElementById('friction-value');

    speedSlider.addEventListener('input', () => {
      const value = parseFloat(speedSlider.value);
      speedValue.textContent = value;
      socket.emit('updateGlobals', { speed: value });
    });

    gravitySlider.addEventListener('input', () => {
      const value = parseFloat(gravitySlider.value);
      gravityValue.textContent = value;
      socket.emit('updateGlobals', { gravity: value });
    });

    frictionSlider.addEventListener('input', () => {
      const value = parseFloat(frictionSlider.value);
      frictionValue.textContent = value;
      socket.emit('updateGlobals', { friction: value });
    });

    socket.on('globalParams', (globals) => {
      speedSlider.value = globals.speed;
      gravitySlider.value = globals.gravity;
      frictionSlider.value = globals.friction;

      speedValue.textContent = globals.speed;
      gravityValue.textContent = globals.gravity;
      frictionValue.textContent = globals.friction;
    });
  </script>
</body>
</html>s